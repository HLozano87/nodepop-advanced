<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Hector Lozano">
    <meta name="description" content="Compra y venta de productos.">
    <meta property="og:title" content="Nodepop">
    <meta property="og:description" content="Compra y venta de productos.">
    <meta property="og:image" content="">
    <title><%= titleApp %></title>
    <link rel="icon" href="/icon/icon.svg">
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gray-100 flex flex-col min-h-screen">
    <nav class="bg-white border-b border-gray-200">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16 items-center">

          <div class="flex-shrink-0">
            <a href="/" class="text-xl font-bold text-gray-800 hover:text-blue-600">
              <%= titleApp %>
            </a>
          </div>

          <div class="md:hidden">
            <button
              type="button"
              class="text-gray-700 hover:text-gray-900 focus:outline-none"
              onclick="document.getElementById('mobile-menu').classList.toggle('hidden')"
            >
              â˜°
            </button>
          </div>

          <div class="hidden md:flex md:items-center md:space-x-6">
            <ul class="flex space-x-4">
              <% if(session.userId) { %>
              <li>
                <a href="/user/new" class="text-gray-700 hover:text-blue-600 font-medium">
                  <%= __("New Product") %>
                </a>
              </li>
              <% } %>
            </ul>

            <div class="flex items-center space-x-2">
              <% getLocales().forEach(locale => { %>
                <a href="/lang-change/<%= locale %>">
                  <img src="/images-lang/<%= locale %>.png" alt="<%= locale %>" class="w-6 h-4 object-cover" />
                </a>
              <% }) %>
            </div>

            <% if(!session.userId) { %>
              <a href="/login" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition">
                <%= __("Login") %>
              </a>
            <% } else { %>
              <a href="/logout" class="border border-red-500 text-red-600 px-4 py-2 rounded hover:bg-red-50 transition">
                <%= __("Logout") %>
              </a>
            <% } %>
          </div>
        </div>

        <div id="mobile-menu" class="md:hidden hidden mt-4 space-y-2">
          <% if(session.userId) { %>
          <a href="/user/new" class="block text-gray-700 hover:text-blue-600 font-medium">
            <%= __("New Product") %>
          </a>
          <% } %>

          <div class="flex space-x-2 mt-2">
            <% getLocales().forEach(locale => { %>
              <a href="/lang-change/<%= locale %>">
                <img src="/images-lang/<%= locale %>.png" alt="<%= locale %>" class="w-6 h-4 object-cover" />
              </a>
            <% }) %>
          </div>

          <% if(!session.userId) { %>
          <a href="/login" class="block bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 mt-2">
            <%= __("Login") %>
          </a>
          <% } else { %>
          <a href="/logout" class="block border border-red-500 text-red-600 px-4 py-2 rounded hover:bg-red-50 mt-2">
            <%= __("Logout") %>
          </a>
          <% } %>
        </div>
      </div>
    </nav>
<%- include('header') %>

<main class="flex flex-grow items-center justify-center">
  <div class="w-full max-w-lg sm:max-w-lg md:max-w-lg p-8 bg-white rounded shadow-md">
    <h1 class="text-2xl font-bold mb-6 text-gray-800 text-center">
      <%= newAccount ? __("Create Account") : __("Login") %>
    </h1>
  
    <form
      action="/login<%= newAccount ? '?newAccount=true' : '' %>"
      method="POST"
      class="space-y-4"
    >
      <% if (redir) { %>
        <input type="hidden" name="redir" value="<%= redir %>">
      <% } %>

      <% if (newAccount) { %>
        <div>
          <label for="name" class="block text-sm font-medium text-gray-700 mb-1">
            <%= __("Name") %>
          </label>
          <input
            type="text"
            name="name"
            id="name"
            value="<%= name %>"
            class="w-full px-4 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
        </div>
      <% } %>
  
      <div>
        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">
          <%= __("Email") %>
        </label>
        <input
          type="email"
          name="email"
          id="email"
          value="<%= email %>"
          pattern="^[a-zA-Z0-9_-]{1,}@[a-zA-Z]+(-[a-zA-Z]+)*\.(com|net|org|edu|gov|io|co|us|uk|de|fr|es|it|jp|br|ca|au|mx)$"
          class="w-full px-4 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
          aria-describedby="emailHelp"
        />
      </div>
  
      <div>
        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">
          <%= __("Password") %>
        </label>
        <input
          type="password"
          name="password"
          id="password"
          class="w-full px-4 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>
  
      <% if (newAccount) { %>
        <div>
          <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-1">
            <%= __("Confirm Password") %>
          </label>
          <input
            type="password"
            name="confirmPassword"
            id="confirmPassword"
            class="w-full px-4 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
        </div>
      <% } %>
  
      <button
        type="submit"
        class="mx-auto bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition"
      >
        <%= newAccount ? __("Sign Up") : __("Enter") %>
      </button>
    </form>
  
    <div class="mt-4 text-sm text-center">
      <a
        href="/login<%= newAccount ? '' : '?newAccount=true' %>"
        class="text-blue-600 hover:underline"
      >
        <%= newAccount ? __("¿Already have an account? Login") : __("¿Create a new Account?") %>
      </a>
    </div>
  
    <% if (error) { %>
      <p class="text-red-600 mt-4 text-sm text-center">
        <%= error %>
      </p>
    <% } %>
  </div>
</main>

<%- include('footer') %>